<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Cost Calculator for Startups | Free Tier & Growth Projections</title>
    <meta name="description" content="Calculate your AWS costs with precision. Free tier analysis, growth projections, and optimization recommendations for startups.">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=IBM+Plex+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #121827;
            --bg-tertiary: #1a2235;
            --bg-elevated: #1e2740;
            --accent-cyan: #00e5ff;
            --accent-blue: #2196f3;
            --accent-amber: #ffa726;
            --accent-emerald: #26a69a;
            --accent-red: #ef5350;
            --text-primary: #e1e8f0;
            --text-secondary: #8b95a8;
            --text-muted: #5a6577;
            --border-color: #2a3548;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        body {
            font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.03;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 2px, var(--accent-cyan) 2px, var(--accent-cyan) 3px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, var(--accent-cyan) 2px, var(--accent-cyan) 3px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
        }

        .header h1 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            animation: fadeInDown 0.8s ease-out;
        }

        .header .subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 300;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .header .tagline {
            margin-top: 0.5rem;
            font-size: 0.95rem;
            color: var(--text-muted);
            font-style: italic;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }

        .pricing-info {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--text-secondary);
            animation: fadeInUp 0.8s ease-out 0.6s both;
        }

        .pricing-info strong {
            color: var(--accent-cyan);
            font-family: 'JetBrains Mono', monospace;
        }

        .pricing-info a {
            color: var(--accent-cyan);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .pricing-info a:hover {
            color: var(--accent-blue);
            text-decoration: underline;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Card Components */
        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: var(--accent-cyan);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .card h2 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.4rem;
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card h3 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        /* Form Controls */
        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 3px rgba(0, 229, 255, 0.1);
        }

        .form-control::placeholder {
            color: var(--text-muted);
        }

        /* Workload Type Selector */
        .workload-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .workload-option {
            padding: 1.25rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .workload-option:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-3px);
        }

        .workload-option.active {
            background: linear-gradient(135deg, rgba(0, 229, 255, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%);
            border-color: var(--accent-cyan);
            box-shadow: 0 0 20px rgba(0, 229, 255, 0.2);
        }

        .workload-option .icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .workload-option .title {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text-primary);
        }

        .workload-option .desc {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        /* Cost Display */
        .cost-summary {
            background: linear-gradient(135deg, var(--bg-elevated) 0%, var(--bg-tertiary) 100%);
            border: 2px solid var(--accent-cyan);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .cost-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .cost-row:last-child {
            border-bottom: none;
        }

        .cost-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        .cost-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-cyan);
            animation: countUp 0.8s ease-out;
        }

        @keyframes countUp {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .cost-total {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px solid var(--accent-cyan);
        }

        .cost-total .cost-label {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .cost-total .cost-value {
            font-size: 2.5rem;
            color: var(--accent-cyan);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
            margin-left: 0.5rem;
        }

        .badge-free {
            background: linear-gradient(135deg, var(--accent-emerald), #1de9b6);
            color: var(--bg-primary);
        }

        .badge-savings {
            background: linear-gradient(135deg, var(--accent-amber), #ffb74d);
            color: var(--bg-primary);
        }

        .badge-warning {
            background: linear-gradient(135deg, var(--accent-red), #ff7043);
            color: white;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
            color: var(--bg-primary);
            box-shadow: 0 4px 15px rgba(0, 229, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 229, 255, 0.4);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn-secondary:hover {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        .tab {
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }

        .tab:hover {
            color: var(--accent-cyan);
        }

        .tab.active {
            color: var(--accent-cyan);
            border-bottom-color: var(--accent-cyan);
        }

        /* Optimization Tips */
        .tip-card {
            background: var(--bg-elevated);
            border-left: 4px solid var(--accent-emerald);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
        }

        .tip-card.warning {
            border-left-color: var(--accent-amber);
        }

        .tip-card.danger {
            border-left-color: var(--accent-red);
        }

        .tip-card h4 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .tip-card p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Progress Bar */
        .progress-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-blue));
            border-radius: 4px;
            transition: width 0.6s ease;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 300px;
            margin: 1.5rem 0;
        }

        /* Toggle Switch */
        .toggle-switch {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
        }

        .toggle-switch label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            transition: 0.4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 3px;
            bottom: 3px;
            background: var(--text-muted);
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
            border-color: var(--accent-cyan);
        }

        input:checked + .slider:before {
            transform: translateX(24px);
            background: white;
        }

        /* Action Bar */
        .action-bar {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }

            .cost-total .cost-value {
                font-size: 2rem;
            }

            .action-bar {
                flex-direction: column;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--bg-tertiary);
            border-top: 3px solid var(--accent-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Scenario Comparison */
        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .scenario-card {
            background: var(--bg-elevated);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .scenario-card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }

        .scenario-card.recommended {
            border-color: var(--accent-emerald);
            box-shadow: 0 0 20px rgba(38, 166, 154, 0.2);
        }

        .scenario-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .scenario-price {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-cyan);
            margin-bottom: 0.5rem;
        }

        .scenario-savings {
            font-size: 0.9rem;
            color: var(--accent-emerald);
            font-weight: 600;
        }

        .scenario-details {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .scenario-details p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* Timeline for Growth Projections */
        .timeline {
            position: relative;
            padding: 1.5rem 0;
        }

        .timeline-item {
            position: relative;
            padding-left: 3rem;
            margin-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-cyan);
            border: 3px solid var(--bg-secondary);
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 12px;
            width: 2px;
            height: calc(100% + 2rem);
            background: var(--border-color);
        }

        .timeline-item:last-child::after {
            display: none;
        }

        .timeline-month {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--accent-cyan);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .timeline-cost {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .timeline-details {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // AWS PRICING DATA
        // Last Updated: January 2025
        // Region: US East (N. Virginia)
        // ==========================================
        // To update pricing:
        // 1. Visit https://aws.amazon.com/pricing/
        // 2. Update values below for your target region
        // 3. Update "PRICING DATA LAST UPDATED" in footer
        // 4. Test calculations thoroughly
        // ==========================================

        // AWS Pricing Data (Simplified but realistic for startups)
        const PRICING = {
            // Compute (per month estimates)
            ec2: {
                t3_micro: 7.5,
                t3_small: 15,
                t3_medium: 30,
                t3_large: 60,
                t3_xlarge: 120,
            },
            lambda: {
                perMillionRequests: 0.20,
                perGBSecond: 0.0000166667,
            },
            fargate: {
                vCPU_hour: 0.04048,
                GB_hour: 0.004445,
            },
            // Storage
            s3: {
                standard_GB: 0.023,
                ia_GB: 0.0125,
                requests_per_1000: 0.005,
            },
            ebs: {
                gp3_GB: 0.08,
                gp2_GB: 0.10,
            },
            // Database
            rds: {
                t3_micro: 15,
                t3_small: 30,
                t3_medium: 60,
                t3_large: 120,
            },
            dynamodb: {
                write_per_million: 1.25,
                read_per_million: 0.25,
                storage_GB: 0.25,
            },
            elasticache: {
                t3_micro: 12,
                t3_small: 24,
                t3_medium: 48,
            },
            // Networking
            cloudfront: {
                data_transfer_GB: 0.085,
                requests_per_10000: 0.0075,
            },
            route53: {
                hosted_zone: 0.50,
                queries_per_million: 0.40,
            },
            alb: {
                hourly: 16.2,
                lcu_hour: 5.84,
            },
            // Other
            ses: {
                per_1000_emails: 0.10,
            },
            sns: {
                per_million: 0.50,
            },
            sqs: {
                per_million_requests: 0.40,
            },
            cloudwatch: {
                per_metric: 0.30,
                per_GB_ingested: 0.50,
            },
        };

        // Free Tier Limits (12 months)
        const FREE_TIER = {
            ec2_hours: 750, // t2.micro/t3.micro hours per month
            lambda_requests: 1000000, // per month
            lambda_compute: 400000, // GB-seconds per month
            s3_storage: 5, // GB
            s3_requests: 20000, // GET requests
            rds_hours: 750, // db.t2.micro hours
            dynamodb_writes: 25, // GB storage + 25 WCU + 25 RCU
            cloudfront_data: 1000, // GB per year (not month)
            ses_emails: 62000, // per month (via EC2)
            cloudwatch_metrics: 10, // custom metrics
            sns_requests: 1000000, // per month
            sqs_requests: 1000000, // per month
        };

        // Workload Profiles with smart defaults
        const WORKLOAD_PROFILES = {
            web_app: {
                name: 'Web Application',
                icon: 'üåê',
                desc: 'Static/dynamic websites',
                defaults: {
                    compute_type: 'ec2',
                    compute_size: 't3_small',
                    instances: 2,
                    database_type: 'rds',
                    database_size: 't3_small',
                    storage_gb: 50,
                    traffic_gb: 100,
                    lambda_requests: 0,
                }
            },
            mobile_backend: {
                name: 'Mobile Backend',
                icon: 'üì±',
                desc: 'APIs for mobile apps',
                defaults: {
                    compute_type: 'lambda',
                    instances: 1,
                    database_type: 'dynamodb',
                    storage_gb: 100,
                    traffic_gb: 200,
                    lambda_requests: 1000000,
                    api_requests: 5000000,
                }
            },
            saas: {
                name: 'SaaS Platform',
                icon: '‚òÅÔ∏è',
                desc: 'Multi-tenant software',
                defaults: {
                    compute_type: 'fargate',
                    compute_size: 't3_medium',
                    instances: 3,
                    database_type: 'rds',
                    database_size: 't3_medium',
                    storage_gb: 200,
                    traffic_gb: 500,
                    lambda_requests: 500000,
                    cache_enabled: true,
                }
            },
            ml_ai: {
                name: 'ML/AI Service',
                icon: 'ü§ñ',
                desc: 'Machine learning APIs',
                defaults: {
                    compute_type: 'ec2',
                    compute_size: 't3_large',
                    instances: 2,
                    database_type: 'dynamodb',
                    storage_gb: 500,
                    traffic_gb: 300,
                    lambda_requests: 2000000,
                    gpu_hours: 0, // Simplified - real GPU pricing is complex
                }
            },
            ecommerce: {
                name: 'E-Commerce',
                icon: 'üõí',
                desc: 'Online store',
                defaults: {
                    compute_type: 'ec2',
                    compute_size: 't3_medium',
                    instances: 2,
                    database_type: 'rds',
                    database_size: 't3_medium',
                    storage_gb: 300,
                    traffic_gb: 1000,
                    cdn_enabled: true,
                    cache_enabled: true,
                }
            },
            data_analytics: {
                name: 'Data Analytics',
                icon: 'üìä',
                desc: 'Data processing pipelines',
                defaults: {
                    compute_type: 'lambda',
                    instances: 1,
                    database_type: 'dynamodb',
                    storage_gb: 1000,
                    traffic_gb: 100,
                    lambda_requests: 5000000,
                }
            },
        };

        // Main Calculator Component
        function AWSCostCalculator() {
            const [activeTab, setActiveTab] = useState('calculator');
            const [workloadType, setWorkloadType] = useState('web_app');
            const [showFreeTier, setShowFreeTier] = useState(true);
            const [awsActivateCredits, setAwsActivateCredits] = useState(5000);
            
            // Configuration state
            const [config, setConfig] = useState({
                monthly_users: 10000,
                compute_type: 'ec2',
                compute_size: 't3_small',
                instances: 2,
                database_type: 'rds',
                database_size: 't3_small',
                storage_gb: 50,
                traffic_gb: 100,
                lambda_requests: 0,
                cdn_enabled: true,
                cache_enabled: false,
                monitoring_enhanced: false,
            });

            // Apply workload profile
            useEffect(() => {
                const profile = WORKLOAD_PROFILES[workloadType];
                setConfig(prev => ({
                    ...prev,
                    ...profile.defaults,
                }));
            }, [workloadType]);

            // Calculate costs
            const calculateCosts = () => {
                let costs = {
                    compute: 0,
                    database: 0,
                    storage: 0,
                    networking: 0,
                    other: 0,
                    free_tier_savings: 0,
                };

                // Compute costs
                if (config.compute_type === 'ec2') {
                    const monthlyCost = PRICING.ec2[config.compute_size] || 30;
                    costs.compute = monthlyCost * config.instances;
                    
                    // Apply free tier (750 hours = ~1 t3.micro instance)
                    if (showFreeTier && config.compute_size === 't3_micro' && config.instances === 1) {
                        costs.free_tier_savings += monthlyCost;
                        costs.compute = 0;
                    }
                } else if (config.compute_type === 'lambda') {
                    const requests = config.lambda_requests || 0;
                    const requestCost = (requests / 1000000) * PRICING.lambda.perMillionRequests;
                    const computeSeconds = requests * 0.1; // Assume 100ms avg
                    const gbSeconds = computeSeconds * 0.128; // 128MB memory
                    const computeCost = gbSeconds * PRICING.lambda.perGBSecond;
                    costs.compute = requestCost + computeCost;

                    if (showFreeTier) {
                        const freeRequests = Math.min(requests, FREE_TIER.lambda_requests);
                        const freeGbSeconds = Math.min(gbSeconds, FREE_TIER.lambda_compute);
                        costs.free_tier_savings += (freeRequests / 1000000) * PRICING.lambda.perMillionRequests;
                        costs.free_tier_savings += freeGbSeconds * PRICING.lambda.perGBSecond;
                        costs.compute = Math.max(0, costs.compute - costs.free_tier_savings);
                    }
                } else if (config.compute_type === 'fargate') {
                    // Simplified: 0.25 vCPU, 0.5 GB per task
                    const hoursPerMonth = 730;
                    const taskCost = (0.25 * PRICING.fargate.vCPU_hour + 0.5 * PRICING.fargate.GB_hour) * hoursPerMonth;
                    costs.compute = taskCost * config.instances;
                }

                // Database costs
                if (config.database_type === 'rds') {
                    const monthlyCost = PRICING.rds[config.database_size] || 30;
                    costs.database = monthlyCost;

                    if (showFreeTier && config.database_size === 't3_micro') {
                        costs.free_tier_savings += monthlyCost;
                        costs.database = 0;
                    }
                } else if (config.database_type === 'dynamodb') {
                    // Simplified calculation
                    const writesPerMonth = config.monthly_users * 10; // Assume 10 writes per user
                    const readsPerMonth = config.monthly_users * 50; // Assume 50 reads per user
                    costs.database = (writesPerMonth / 1000000) * PRICING.dynamodb.write_per_million;
                    costs.database += (readsPerMonth / 1000000) * PRICING.dynamodb.read_per_million;
                    costs.database += (config.storage_gb * 0.1) * PRICING.dynamodb.storage_GB; // 10% of storage in DynamoDB

                    if (showFreeTier) {
                        costs.free_tier_savings += 25 * 0.5; // Rough estimate
                        costs.database = Math.max(0, costs.database);
                    }
                }

                // Storage costs
                costs.storage = config.storage_gb * PRICING.s3.standard_GB;
                if (showFreeTier && config.storage_gb <= FREE_TIER.s3_storage) {
                    costs.free_tier_savings += costs.storage;
                    costs.storage = 0;
                }

                // Networking costs
                if (config.cdn_enabled) {
                    costs.networking = config.traffic_gb * PRICING.cloudfront.data_transfer_GB;
                    if (showFreeTier) {
                        const freeGB = Math.min(config.traffic_gb, FREE_TIER.cloudfront_data / 12); // Annual to monthly
                        costs.free_tier_savings += freeGB * PRICING.cloudfront.data_transfer_GB;
                    }
                } else {
                    costs.networking = config.traffic_gb * 0.09; // Standard data transfer
                }

                // Load balancer
                costs.networking += PRICING.alb.hourly + PRICING.alb.lcu_hour * 0.5;

                // Other services
                if (config.cache_enabled) {
                    costs.other += PRICING.elasticache.t3_small;
                }

                // Monitoring
                costs.other += config.monitoring_enhanced ? 30 : 5;

                // Email/notifications
                const emails = config.monthly_users * 0.5; // 0.5 emails per user
                costs.other += (emails / 1000) * PRICING.ses.per_1000_emails;

                const total = costs.compute + costs.database + costs.storage + costs.networking + costs.other;
                const totalWithoutFreeTier = total + costs.free_tier_savings;

                return {
                    ...costs,
                    total,
                    totalWithoutFreeTier,
                };
            };

            const costs = calculateCosts();

            // Calculate growth projections
            const calculateGrowthProjections = () => {
                const projections = [];
                const growthRate = 1.5; // 50% growth per period

                for (let month of [1, 6, 12]) {
                    const multiplier = Math.pow(growthRate, month / 3);
                    const projectedUsers = config.monthly_users * multiplier;
                    
                    // Simple cost scaling (not perfectly linear in reality)
                    const projectedCost = costs.total * multiplier * 0.85; // Economies of scale

                    projections.push({
                        month,
                        users: Math.round(projectedUsers),
                        cost: projectedCost,
                        savings: showFreeTier && month === 1 ? costs.free_tier_savings : 0,
                    });
                }

                return projections;
            };

            const projections = calculateGrowthProjections();

            // Calculate scenario comparisons
            const calculateScenarios = () => {
                const base = costs.total;
                
                return {
                    onDemand: {
                        name: 'On-Demand',
                        price: base,
                        savings: 0,
                        description: 'Pay-as-you-go pricing. No commitments, maximum flexibility.',
                        commitment: 'None',
                        flexibility: 'High',
                    },
                    reserved1yr: {
                        name: '1-Year Reserved',
                        price: base * 0.70,
                        savings: base * 0.30,
                        description: 'Save ~30% with 1-year commitment. Good for predictable workloads.',
                        commitment: '1 year',
                        flexibility: 'Medium',
                    },
                    reserved3yr: {
                        name: '3-Year Reserved',
                        price: base * 0.55,
                        savings: base * 0.45,
                        description: 'Save ~45% with 3-year commitment. Best for stable, long-term workloads.',
                        commitment: '3 years',
                        flexibility: 'Low',
                    },
                    spot: {
                        name: 'Spot Instances',
                        price: base * 0.40,
                        savings: base * 0.60,
                        description: 'Save up to 60% but instances can be interrupted. Use for fault-tolerant workloads.',
                        commitment: 'None',
                        flexibility: 'Variable',
                    },
                };
            };

            const scenarios = calculateScenarios();

            // Generate optimization tips
            const generateTips = () => {
                const tips = [];

                // Cost-based tips
                if (costs.total > 500) {
                    tips.push({
                        type: 'warning',
                        title: 'Consider Reserved Instances',
                        message: `You could save $${(costs.total * 0.30).toFixed(2)}/month (~30%) with 1-year Reserved Instances for predictable workloads.`,
                    });
                }

                if (costs.compute > costs.total * 0.5) {
                    tips.push({
                        type: 'tip',
                        title: 'High Compute Costs',
                        message: 'Consider serverless (Lambda) for variable workloads or auto-scaling to reduce compute costs during low-traffic periods.',
                    });
                }

                if (config.traffic_gb > 1000 && !config.cdn_enabled) {
                    tips.push({
                        type: 'danger',
                        title: 'Enable CloudFront CDN',
                        message: 'Your high traffic volume would benefit significantly from CloudFront CDN. Reduce latency and data transfer costs.',
                    });
                }

                if (costs.database > 100 && config.database_type === 'rds') {
                    tips.push({
                        type: 'tip',
                        title: 'Database Optimization',
                        message: 'Consider DynamoDB for predictable access patterns or implement read replicas to reduce primary DB load.',
                    });
                }

                if (!config.cache_enabled && config.monthly_users > 50000) {
                    tips.push({
                        type: 'tip',
                        title: 'Add Caching Layer',
                        message: 'ElastiCache can dramatically reduce database costs and improve performance for high-traffic applications.',
                    });
                }

                // Free tier tips
                if (showFreeTier && costs.free_tier_savings > 0) {
                    tips.push({
                        type: 'tip',
                        title: 'Free Tier Active',
                        message: `You're saving $${costs.free_tier_savings.toFixed(2)}/month with AWS Free Tier. This benefit lasts 12 months from signup.`,
                    });
                }

                // AWS Activate tip
                if (costs.total * 12 < awsActivateCredits) {
                    tips.push({
                        type: 'tip',
                        title: 'AWS Activate Program',
                        message: `With $${awsActivateCredits} in AWS Activate credits, your estimated annual cost ($${(costs.total * 12).toFixed(2)}) would be fully covered!`,
                    });
                }

                return tips;
            };

            const tips = generateTips();

            return (
                <div className="container">
                    <header className="header">
                        <h1> AWS Cost Calculator</h1>
                        <p className="subtitle">Cost Estimation for Startups</p>
                        <p className="tagline">Physics-informed modeling | Free tier analysis | Growth projections</p>
                        <div className="pricing-info">
                            <strong>Pricing Data:</strong> US East (N. Virginia) | Last Verified: <strong>December 2025</strong>
                            <br/>
                            <span style={{fontSize: '0.8rem', marginTop: '0.25rem', display: 'inline-block'}}>
                                Estimates ¬±10-15% of actual costs | <a href="#pricing-sources" style={{color: 'var(--accent-cyan)', textDecoration: 'underline'}}>View Current AWS Prices</a>
                            </span>
                        </div>
                    </header>

                    {/* Navigation Tabs */}
                    <div className="tabs">
                        <button 
                            className={`tab ${activeTab === 'calculator' ? 'active' : ''}`}
                            onClick={() => setActiveTab('calculator')}
                        >
                             Calculator
                        </button>
                        <button 
                            className={`tab ${activeTab === 'scenarios' ? 'active' : ''}`}
                            onClick={() => setActiveTab('scenarios')}
                        >
                             Scenarios
                        </button>
                        <button 
                            className={`tab ${activeTab === 'growth' ? 'active' : ''}`}
                            onClick={() => setActiveTab('growth')}
                        >
                             Growth
                        </button>
                        <button 
                            className={`tab ${activeTab === 'optimize' ? 'active' : ''}`}
                            onClick={() => setActiveTab('optimize')}
                        >
                             Optimize
                        </button>
                        <button 
                            className={`tab ${activeTab === 'pricing' ? 'active' : ''}`}
                            onClick={() => setActiveTab('pricing')}
                            id="pricing-sources"
                        >
                             Pricing Sources
                        </button>
                    </div>

                    {/* Calculator Tab */}
                    {activeTab === 'calculator' && (
                        <>
                            {/* Workload Type Selector */}
                            <div className="card">
                                <h2>1Ô∏è‚É£ Select Your Workload Type</h2>
                                <div className="workload-selector">
                                    {Object.entries(WORKLOAD_PROFILES).map(([key, profile]) => (
                                        <div
                                            key={key}
                                            className={`workload-option ${workloadType === key ? 'active' : ''}`}
                                            onClick={() => setWorkloadType(key)}
                                        >
                                            <div className="icon">{profile.icon}</div>
                                            <div className="title">{profile.name}</div>
                                            <div className="desc">{profile.desc}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Configuration */}
                            <div className="card">
                                <h2>2Ô∏è‚É£ Configure Your Infrastructure</h2>
                                
                                <div className="grid-2">
                                    {/* General */}
                                    <div>
                                        <h3>General</h3>
                                        <div className="form-group">
                                            <label>Monthly Active Users</label>
                                            <input
                                                type="number"
                                                className="form-control"
                                                value={config.monthly_users}
                                                onChange={(e) => setConfig({...config, monthly_users: parseInt(e.target.value) || 0})}
                                                placeholder="10000"
                                            />
                                        </div>
                                    </div>

                                    {/* Compute */}
                                    <div>
                                        <h3>Compute</h3>
                                        <div className="form-group">
                                            <label>Compute Type</label>
                                            <select
                                                className="form-control"
                                                value={config.compute_type}
                                                onChange={(e) => setConfig({...config, compute_type: e.target.value})}
                                            >
                                                <option value="ec2">EC2 (Virtual Servers)</option>
                                                <option value="lambda">Lambda (Serverless)</option>
                                                <option value="fargate">Fargate (Containers)</option>
                                            </select>
                                        </div>

                                        {config.compute_type === 'ec2' && (
                                            <>
                                                <div className="form-group">
                                                    <label>Instance Size</label>
                                                    <select
                                                        className="form-control"
                                                        value={config.compute_size}
                                                        onChange={(e) => setConfig({...config, compute_size: e.target.value})}
                                                    >
                                                        <option value="t3_micro">t3.micro (1 vCPU, 1GB RAM) - ${PRICING.ec2.t3_micro}/mo</option>
                                                        <option value="t3_small">t3.small (2 vCPU, 2GB RAM) - ${PRICING.ec2.t3_small}/mo</option>
                                                        <option value="t3_medium">t3.medium (2 vCPU, 4GB RAM) - ${PRICING.ec2.t3_medium}/mo</option>
                                                        <option value="t3_large">t3.large (2 vCPU, 8GB RAM) - ${PRICING.ec2.t3_large}/mo</option>
                                                        <option value="t3_xlarge">t3.xlarge (4 vCPU, 16GB RAM) - ${PRICING.ec2.t3_xlarge}/mo</option>
                                                    </select>
                                                </div>
                                                <div className="form-group">
                                                    <label>Number of Instances</label>
                                                    <input
                                                        type="number"
                                                        className="form-control"
                                                        value={config.instances}
                                                        onChange={(e) => setConfig({...config, instances: parseInt(e.target.value) || 1})}
                                                        min="1"
                                                    />
                                                </div>
                                            </>
                                        )}

                                        {config.compute_type === 'lambda' && (
                                            <div className="form-group">
                                                <label>Requests per Month</label>
                                                <input
                                                    type="number"
                                                    className="form-control"
                                                    value={config.lambda_requests}
                                                    onChange={(e) => setConfig({...config, lambda_requests: parseInt(e.target.value) || 0})}
                                                    placeholder="1000000"
                                                />
                                            </div>
                                        )}
                                    </div>

                                    {/* Database */}
                                    <div>
                                        <h3>Database</h3>
                                        <div className="form-group">
                                            <label>Database Type</label>
                                            <select
                                                className="form-control"
                                                value={config.database_type}
                                                onChange={(e) => setConfig({...config, database_type: e.target.value})}
                                            >
                                                <option value="rds">RDS (Relational)</option>
                                                <option value="dynamodb">DynamoDB (NoSQL)</option>
                                            </select>
                                        </div>

                                        {config.database_type === 'rds' && (
                                            <div className="form-group">
                                                <label>Database Size</label>
                                                <select
                                                    className="form-control"
                                                    value={config.database_size}
                                                    onChange={(e) => setConfig({...config, database_size: e.target.value})}
                                                >
                                                    <option value="t3_micro">db.t3.micro (1 vCPU, 1GB) - ${PRICING.rds.t3_micro}/mo</option>
                                                    <option value="t3_small">db.t3.small (2 vCPU, 2GB) - ${PRICING.rds.t3_small}/mo</option>
                                                    <option value="t3_medium">db.t3.medium (2 vCPU, 4GB) - ${PRICING.rds.t3_medium}/mo</option>
                                                    <option value="t3_large">db.t3.large (2 vCPU, 8GB) - ${PRICING.rds.t3_large}/mo</option>
                                                </select>
                                            </div>
                                        )}
                                    </div>

                                    {/* Storage & Networking */}
                                    <div>
                                        <h3>Storage & Traffic</h3>
                                        <div className="form-group">
                                            <label>Storage (GB)</label>
                                            <input
                                                type="number"
                                                className="form-control"
                                                value={config.storage_gb}
                                                onChange={(e) => setConfig({...config, storage_gb: parseInt(e.target.value) || 0})}
                                                placeholder="50"
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label>Monthly Traffic (GB)</label>
                                            <input
                                                type="number"
                                                className="form-control"
                                                value={config.traffic_gb}
                                                onChange={(e) => setConfig({...config, traffic_gb: parseInt(e.target.value) || 0})}
                                                placeholder="100"
                                            />
                                        </div>
                                    </div>
                                </div>

                                {/* Optional Services */}
                                <div style={{marginTop: '2rem'}}>
                                    <h3>Optional Services</h3>
                                    <div className="grid-3">
                                        <div className="toggle-switch">
                                            <label className="switch">
                                                <input
                                                    type="checkbox"
                                                    checked={config.cdn_enabled}
                                                    onChange={(e) => setConfig({...config, cdn_enabled: e.target.checked})}
                                                />
                                                <span className="slider"></span>
                                            </label>
                                            <label>CloudFront CDN</label>
                                        </div>
                                        <div className="toggle-switch">
                                            <label className="switch">
                                                <input
                                                    type="checkbox"
                                                    checked={config.cache_enabled}
                                                    onChange={(e) => setConfig({...config, cache_enabled: e.target.checked})}
                                                />
                                                <span className="slider"></span>
                                            </label>
                                            <label>ElastiCache (Redis)</label>
                                        </div>
                                        <div className="toggle-switch">
                                            <label className="switch">
                                                <input
                                                    type="checkbox"
                                                    checked={config.monitoring_enhanced}
                                                    onChange={(e) => setConfig({...config, monitoring_enhanced: e.target.checked})}
                                                />
                                                <span className="slider"></span>
                                            </label>
                                            <label>Enhanced Monitoring</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Free Tier Settings */}
                            <div className="card">
                                <h2>3Ô∏è‚É£ Free Tier & Credits</h2>
                                <div className="grid-2">
                                    <div className="toggle-switch">
                                        <label className="switch">
                                            <input
                                                type="checkbox"
                                                checked={showFreeTier}
                                                onChange={(e) => setShowFreeTier(e.target.checked)}
                                            />
                                            <span className="slider"></span>
                                        </label>
                                        <label>Apply AWS Free Tier (12 months)</label>
                                    </div>
                                    <div className="form-group">
                                        <label>AWS Activate Credits ($)</label>
                                        <select
                                            className="form-control"
                                            value={awsActivateCredits}
                                            onChange={(e) => setAwsActivateCredits(parseInt(e.target.value))}
                                        >
                                            <option value="0">None</option>
                                            <option value="1000">$1,000 (Portfolio)</option>
                                            <option value="5000">$5,000 (Bootstrap)</option>
                                            <option value="25000">$25,000 (Ascend)</option>
                                            <option value="100000">$100,000 (Scale)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {/* Cost Summary */}
                            <div className="cost-summary">
                                <h2> Monthly Cost Estimate</h2>
                                
                                <div className="cost-row">
                                    <span className="cost-label">Compute</span>
                                    <span className="cost-value">${costs.compute.toFixed(2)}</span>
                                </div>
                                <div className="cost-row">
                                    <span className="cost-label">Database</span>
                                    <span className="cost-value">${costs.database.toFixed(2)}</span>
                                </div>
                                <div className="cost-row">
                                    <span className="cost-label">Storage</span>
                                    <span className="cost-value">${costs.storage.toFixed(2)}</span>
                                </div>
                                <div className="cost-row">
                                    <span className="cost-label">Networking & CDN</span>
                                    <span className="cost-value">${costs.networking.toFixed(2)}</span>
                                </div>
                                <div className="cost-row">
                                    <span className="cost-label">Other Services</span>
                                    <span className="cost-value">${costs.other.toFixed(2)}</span>
                                </div>

                                {showFreeTier && costs.free_tier_savings > 0 && (
                                    <div className="cost-row">
                                        <span className="cost-label">
                                            Free Tier Savings
                                            <span className="badge badge-free">12 MONTHS</span>
                                        </span>
                                        <span className="cost-value" style={{color: 'var(--accent-emerald)'}}>
                                            -${costs.free_tier_savings.toFixed(2)}
                                        </span>
                                    </div>
                                )}

                                <div className="cost-total">
                                    <div className="cost-row">
                                        <span className="cost-label">Total Monthly</span>
                                        <span className="cost-value">${costs.total.toFixed(2)}</span>
                                    </div>
                                    <div className="cost-row" style={{fontSize: '0.9rem', marginTop: '0.5rem'}}>
                                        <span className="cost-label" style={{color: 'var(--text-muted)'}}>Annual Estimate</span>
                                        <span className="cost-value" style={{fontSize: '1.5rem'}}>
                                            ${(costs.total * 12).toFixed(2)}
                                        </span>
                                    </div>

                                    {awsActivateCredits > 0 && (
                                        <div className="cost-row" style={{marginTop: '1rem', paddingTop: '1rem', borderTop: '1px solid var(--border-color)'}}>
                                            <span className="cost-label">
                                                With AWS Activate Credits
                                                <span className="badge badge-savings">${awsActivateCredits.toLocaleString()}</span>
                                            </span>
                                            <span className="cost-value" style={{color: 'var(--accent-emerald)'}}>
                                                {costs.total * 12 <= awsActivateCredits ? 'FREE' : `$${(costs.total * 12 - awsActivateCredits).toFixed(2)}`}
                                            </span>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </>
                    )}

                    {/* Scenarios Tab */}
                    {activeTab === 'scenarios' && (
                        <div className="card">
                            <h2> Pricing Scenario Comparison</h2>
                            <p style={{color: 'var(--text-secondary)', marginBottom: '2rem'}}>
                                Compare different AWS pricing models to find the best fit for your startup's needs and risk tolerance.
                            </p>

                            <div className="scenario-grid">
                                {Object.entries(scenarios).map(([key, scenario]) => (
                                    <div 
                                        key={key} 
                                        className={`scenario-card ${key === 'reserved1yr' ? 'recommended' : ''}`}
                                    >
                                        <div className="scenario-title">
                                            {scenario.name}
                                            {key === 'reserved1yr' && <span className="badge badge-free">RECOMMENDED</span>}
                                        </div>
                                        <div className="scenario-price">${scenario.price.toFixed(2)}/mo</div>
                                        {scenario.savings > 0 && (
                                            <div className="scenario-savings">
                                                Save ${scenario.savings.toFixed(2)}/month
                                            </div>
                                        )}
                                        <div className="scenario-details">
                                            <p><strong>Description:</strong> {scenario.description}</p>
                                            <p><strong>Commitment:</strong> {scenario.commitment}</p>
                                            <p><strong>Flexibility:</strong> {scenario.flexibility}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div style={{marginTop: '2rem', padding: '1.5rem', background: 'var(--bg-elevated)', borderRadius: '8px'}}>
                                <h3 style={{marginBottom: '1rem'}}>üí° Recommendation</h3>
                                <p style={{color: 'var(--text-secondary)', lineHeight: '1.6'}}>
                                    For most startups, <strong style={{color: 'var(--accent-cyan)'}}>1-Year Reserved Instances</strong> offer 
                                    the best balance between cost savings (~30%) and flexibility. Start with On-Demand for testing, 
                                    then switch to Reserved once your workload stabilizes. Consider Spot Instances for batch processing 
                                    and development environments.
                                </p>
                            </div>
                        </div>
                    )}

                    {/* Growth Tab */}
                    {activeTab === 'growth' && (
                        <div className="card">
                            <h2> Growth Projections</h2>
                            <p style={{color: 'var(--text-secondary)', marginBottom: '2rem'}}>
                                Projected costs assuming 50% growth per quarter. Actual costs may vary based on optimization and architecture changes.
                            </p>

                            <div className="timeline">
                                {projections.map((projection, idx) => (
                                    <div key={idx} className="timeline-item">
                                        <div className="timeline-month">Month {projection.month}</div>
                                        <div className="timeline-cost">${projection.cost.toFixed(2)}/month</div>
                                        <div className="timeline-details">
                                            <div>{projection.users.toLocaleString()} monthly active users</div>
                                            <div>${(projection.cost * 12).toFixed(2)} annual cost</div>
                                            {projection.savings > 0 && (
                                                <div style={{color: 'var(--accent-emerald)'}}>
                                                    Free tier savings: ${projection.savings.toFixed(2)}
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div style={{marginTop: '2rem'}}>
                                <h3>Cost Scaling Model</h3>
                                <p style={{color: 'var(--text-secondary)', fontSize: '0.9rem', lineHeight: '1.6'}}>
                                    This projection uses a physics-informed model that accounts for economies of scale. 
                                    As your infrastructure grows, per-user costs decrease due to:
                                </p>
                                <ul style={{color: 'var(--text-secondary)', fontSize: '0.9rem', marginLeft: '1.5rem', lineHeight: '1.8'}}>
                                    <li>Better resource utilization at higher scale</li>
                                    <li>Ability to negotiate Reserved Instance discounts</li>
                                    <li>More efficient caching and CDN effectiveness</li>
                                    <li>Database connection pooling and optimization</li>
                                </ul>
                            </div>
                        </div>
                    )}

                    {/* Optimize Tab */}
                    {activeTab === 'optimize' && (
                        <div className="card">
                            <h2> Cost Optimization Recommendations</h2>
                            <p style={{color: 'var(--text-secondary)', marginBottom: '2rem'}}>
                                Personalized recommendations based on your configuration to help reduce costs while maintaining performance.
                            </p>

                            {tips.length === 0 ? (
                                <div style={{padding: '2rem', textAlign: 'center', color: 'var(--text-muted)'}}>
                                    <div style={{fontSize: '3rem', marginBottom: '1rem'}}>üéâ</div>
                                    <h3 style={{color: 'var(--text-primary)'}}>Your configuration looks optimized!</h3>
                                    <p>No critical recommendations at this time.</p>
                                </div>
                            ) : (
                                <div>
                                    {tips.map((tip, idx) => (
                                        <div key={idx} className={`tip-card ${tip.type}`}>
                                            <h4>{tip.title}</h4>
                                            <p>{tip.message}</p>
                                        </div>
                                    ))}
                                </div>
                            )}

                            <div style={{marginTop: '2rem', padding: '1.5rem', background: 'var(--bg-elevated)', borderRadius: '8px'}}>
                                <h3 style={{marginBottom: '1rem'}}>üîß General Optimization Strategies</h3>
                                <div className="grid-2" style={{gap: '1rem'}}>
                                    <div>
                                        <h4 style={{fontSize: '0.95rem', marginBottom: '0.5rem', color: 'var(--accent-cyan)'}}>Architecture</h4>
                                        <ul style={{fontSize: '0.85rem', color: 'var(--text-secondary)', lineHeight: '1.8', marginLeft: '1.5rem'}}>
                                            <li>Use auto-scaling for variable workloads</li>
                                            <li>Implement caching layers (ElastiCache)</li>
                                            <li>Leverage serverless for spiky traffic</li>
                                            <li>Use S3 lifecycle policies for old data</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 style={{fontSize: '0.95rem', marginBottom: '0.5rem', color: 'var(--accent-cyan)'}}>Operations</h4>
                                        <ul style={{fontSize: '0.85rem', color: 'var(--text-secondary)', lineHeight: '1.8', marginLeft: '1.5rem'}}>
                                            <li>Set up CloudWatch billing alerts</li>
                                            <li>Use AWS Cost Explorer regularly</li>
                                            <li>Tag resources for cost allocation</li>
                                            <li>Review and delete unused resources</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Pricing Sources Tab */}
                    {activeTab === 'pricing' && (
                        <div className="card">
                            <h2> Official AWS Pricing Sources</h2>
                            <p style={{color: 'var(--text-secondary)', marginBottom: '2rem'}}>
                                This calculator uses hardcoded pricing as a baseline for speed and offline functionality. 
                                To verify current prices or if you're viewing this calculator in the future, use these official AWS pricing pages:
                            </p>

                            <div style={{
                                padding: '1.25rem',
                                background: 'var(--bg-elevated)',
                                borderRadius: '8px',
                                marginBottom: '2rem',
                                border: '2px solid var(--accent-amber)'
                            }}>
                                <div style={{display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.75rem'}}>
                                    <span style={{fontSize: '1.5rem'}}>‚ö†Ô∏è</span>
                                    <strong style={{color: 'var(--accent-amber)', fontSize: '1rem'}}>Pricing Data Freshness</strong>
                                </div>
                                <p style={{fontSize: '0.9rem', color: 'var(--text-secondary)', lineHeight: '1.6', margin: 0}}>
                                    Calculator pricing last verified: <strong style={{color: 'var(--accent-cyan)'}}>December 2025</strong>
                                    <br/>
                                    If you're viewing this in the future, prices may have changed. Click the links below to check current AWS pricing.
                                    <br/>
                                    AWS typically updates pricing quarterly and when launching new instance types.
                                </p>
                            </div>

                            {/* Pricing Links Grid */}
                            <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1rem', marginBottom: '2rem'}}>
                                {[
                                    {
                                        service: 'EC2 Instances',
                                        icon: 'üñ•Ô∏è',
                                        url: 'https://aws.amazon.com/ec2/pricing/on-demand/',
                                        description: 'Virtual server pricing (t3, m5, c5 families)',
                                        color: 'var(--accent-cyan)'
                                    },
                                    {
                                        service: 'Lambda',
                                        icon: '‚ö°',
                                        url: 'https://aws.amazon.com/lambda/pricing/',
                                        description: 'Serverless function pricing per request and GB-second',
                                        color: 'var(--accent-blue)'
                                    },
                                    {
                                        service: 'RDS',
                                        icon: 'üóÑÔ∏è',
                                        url: 'https://aws.amazon.com/rds/mysql/pricing/',
                                        description: 'Managed database pricing (MySQL, PostgreSQL, etc)',
                                        color: 'var(--accent-emerald)'
                                    },
                                    {
                                        service: 'DynamoDB',
                                        icon: 'üìä',
                                        url: 'https://aws.amazon.com/dynamodb/pricing/',
                                        description: 'NoSQL database pricing (on-demand and provisioned)',
                                        color: 'var(--accent-amber)'
                                    },
                                    {
                                        service: 'S3 Storage',
                                        icon: 'üíæ',
                                        url: 'https://aws.amazon.com/s3/pricing/',
                                        description: 'Object storage pricing (Standard, IA, Glacier)',
                                        color: 'var(--accent-cyan)'
                                    },
                                    {
                                        service: 'CloudFront',
                                        icon: 'üåê',
                                        url: 'https://aws.amazon.com/cloudfront/pricing/',
                                        description: 'CDN pricing for data transfer and requests',
                                        color: 'var(--accent-blue)'
                                    },
                                    {
                                        service: 'ElastiCache',
                                        icon: '‚ö°',
                                        url: 'https://aws.amazon.com/elasticache/pricing/',
                                        description: 'Managed Redis/Memcached pricing',
                                        color: 'var(--accent-emerald)'
                                    },
                                    {
                                        service: 'SES (Email)',
                                        icon: 'üìß',
                                        url: 'https://aws.amazon.com/ses/pricing/',
                                        description: 'Email service pricing per 1,000 emails sent',
                                        color: 'var(--accent-amber)'
                                    },
                                ].map((item, idx) => (
                                    <a
                                        key={idx}
                                        href={item.url}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        style={{
                                            display: 'block',
                                            padding: '1.25rem',
                                            background: 'var(--bg-elevated)',
                                            border: '2px solid var(--border-color)',
                                            borderRadius: '8px',
                                            textDecoration: 'none',
                                            transition: 'all 0.3s ease',
                                            cursor: 'pointer'
                                        }}
                                        onMouseEnter={(e) => {
                                            e.currentTarget.style.borderColor = item.color;
                                            e.currentTarget.style.transform = 'translateY(-2px)';
                                        }}
                                        onMouseLeave={(e) => {
                                            e.currentTarget.style.borderColor = 'var(--border-color)';
                                            e.currentTarget.style.transform = 'translateY(0)';
                                        }}
                                    >
                                        <div style={{fontSize: '2rem', marginBottom: '0.5rem'}}>{item.icon}</div>
                                        <h4 style={{
                                            color: item.color,
                                            marginBottom: '0.5rem',
                                            fontSize: '1rem',
                                            fontFamily: 'JetBrains Mono, monospace'
                                        }}>
                                            {item.service} ‚Üí
                                        </h4>
                                        <p style={{
                                            fontSize: '0.85rem',
                                            color: 'var(--text-secondary)',
                                            lineHeight: '1.5',
                                            margin: 0
                                        }}>
                                            {item.description}
                                        </p>
                                    </a>
                                ))}
                            </div>

                            {/* Additional Resources */}
                            <div style={{
                                padding: '1.5rem',
                                background: 'var(--bg-secondary)',
                                borderRadius: '8px',
                                marginTop: '2rem'
                            }}>
                                <h3 style={{marginBottom: '1rem', color: 'var(--accent-cyan)'}}> Additional Resources</h3>
                                
                                <div style={{marginBottom: '1.5rem'}}>
                                    <h4 style={{fontSize: '0.95rem', marginBottom: '0.5rem'}}>
                                        <a href="https://calculator.aws/" target="_blank" rel="noopener noreferrer" 
                                           style={{color: 'var(--accent-cyan)', textDecoration: 'none'}}>
                                            AWS Pricing Calculator ‚Üí
                                        </a>
                                    </h4>
                                    <p style={{fontSize: '0.85rem', color: 'var(--text-secondary)', margin: 0}}>
                                        Official AWS tool for detailed cost estimates. Includes all services, regions, and configuration options.
                                        Use this for production planning and to verify this calculator's estimates.
                                    </p>
                                </div>

                                <div style={{marginBottom: '1.5rem'}}>
                                    <h4 style={{fontSize: '0.95rem', marginBottom: '0.5rem'}}>
                                        <a href="https://aws.amazon.com/pricing/" target="_blank" rel="noopener noreferrer" 
                                           style={{color: 'var(--accent-cyan)', textDecoration: 'none'}}>
                                            AWS Pricing Overview ‚Üí
                                        </a>
                                    </h4>
                                    <p style={{fontSize: '0.85rem', color: 'var(--text-secondary)', margin: 0}}>
                                        Central hub for all AWS pricing information. Browse by service or explore pricing models.
                                    </p>
                                </div>

                                <div>
                                    <h4 style={{fontSize: '0.95rem', marginBottom: '0.5rem'}}>
                                        <a href="https://aws.amazon.com/free/" target="_blank" rel="noopener noreferrer" 
                                           style={{color: 'var(--accent-cyan)', textDecoration: 'none'}}>
                                            AWS Free Tier ‚Üí
                                        </a>
                                    </h4>
                                    <p style={{fontSize: '0.85rem', color: 'var(--text-secondary)', margin: 0}}>
                                        Complete details on AWS Free Tier offerings. 750 hours of EC2, 1M Lambda requests, 
                                        5GB S3 storage, and more - all free for 12 months.
                                    </p>
                                </div>
                            </div>

                            {/* How to Verify Pricing */}
                            <div style={{
                                marginTop: '2rem',
                                padding: '1.5rem',
                                background: 'var(--bg-elevated)',
                                borderRadius: '8px',
                                border: '1px solid var(--accent-emerald)'
                            }}>
                                <h3 style={{marginBottom: '1rem', color: 'var(--accent-emerald)'}}> How to Verify Current Pricing</h3>
                                <ol style={{fontSize: '0.9rem', color: 'var(--text-secondary)', lineHeight: '1.8', paddingLeft: '1.5rem'}}>
                                    <li>Click the service pricing link above for the services you're using</li>
                                    <li>Select your target AWS region (pricing varies by region)</li>
                                    <li>Find the instance type or service tier you're interested in</li>
                                    <li>Note the per-hour, per-GB, or per-request pricing</li>
                                    <li>Compare to this calculator's estimates and adjust your expectations</li>
                                    <li>For production planning, always use the official AWS Pricing Calculator</li>
                                </ol>
                            </div>

                            {/* Pricing Change Frequency */}
                            <div style={{
                                marginTop: '2rem',
                                padding: '1rem',
                                background: 'var(--bg-secondary)',
                                borderRadius: '8px',
                                fontSize: '0.85rem',
                                color: 'var(--text-muted)',
                                lineHeight: '1.6'
                            }}>
                                <strong style={{color: 'var(--text-primary)'}}>How Often Does AWS Change Prices?</strong>
                                <br/>
                                ‚Ä¢ <strong>Price Decreases:</strong> AWS has historically decreased prices 70+ times since launch
                                <br/>
                                ‚Ä¢ <strong>New Instance Types:</strong> Introduced quarterly, often with better price-performance
                                <br/>
                                ‚Ä¢ <strong>Regional Differences:</strong> New regions may have different pricing
                                <br/>
                                ‚Ä¢ <strong>Recommendation:</strong> Check pricing quarterly or when planning major deployments
                            </div>
                        </div>
                    )}

                    {/* Action Bar */}
                    <div className="action-bar">
                        <button className="btn btn-primary" onClick={() => {
                            const params = new URLSearchParams({
                                workload: workloadType,
                                users: config.monthly_users,
                                compute: config.compute_type,
                                database: config.database_type,
                                storage: config.storage_gb,
                                traffic: config.traffic_gb,
                                freeTier: showFreeTier,
                            });
                            const shareUrl = `${window.location.origin}${window.location.pathname}?${params.toString()}`;
                            navigator.clipboard.writeText(shareUrl);
                            alert('Share link copied to clipboard!');
                        }}>
                             Share Configuration
                        </button>
                        
                        <button className="btn btn-primary" onClick={() => {
                            const { jsPDF } = window.jspdf;
                            const doc = new jsPDF();
                            
                            doc.setFontSize(20);
                            doc.text('AWS Cost Estimate', 20, 20);
                            
                            doc.setFontSize(12);
                            doc.text(`Workload: ${WORKLOAD_PROFILES[workloadType].name}`, 20, 35);
                            doc.text(`Monthly Users: ${config.monthly_users.toLocaleString()}`, 20, 45);
                            doc.text(`Compute: ${config.compute_type.toUpperCase()}`, 20, 55);
                            doc.text(`Database: ${config.database_type.toUpperCase()}`, 20, 65);
                            
                            doc.text('Cost Breakdown:', 20, 80);
                            doc.text(`Compute: $${costs.compute.toFixed(2)}`, 30, 90);
                            doc.text(`Database: $${costs.database.toFixed(2)}`, 30, 100);
                            doc.text(`Storage: $${costs.storage.toFixed(2)}`, 30, 110);
                            doc.text(`Networking: $${costs.networking.toFixed(2)}`, 30, 120);
                            doc.text(`Other: $${costs.other.toFixed(2)}`, 30, 130);
                            
                            if (showFreeTier && costs.free_tier_savings > 0) {
                                doc.text(`Free Tier Savings: -$${costs.free_tier_savings.toFixed(2)}`, 30, 140);
                            }
                            
                            doc.setFontSize(14);
                            doc.text(`Monthly Total: $${costs.total.toFixed(2)}`, 20, 155);
                            doc.text(`Annual Total: $${(costs.total * 12).toFixed(2)}`, 20, 165);
                            
                            doc.save('aws-cost-estimate.pdf');
                        }}>
                             Export to PDF
                        </button>

                        <button className="btn btn-secondary" onClick={() => {
                            const csv = [
                                ['Category', 'Monthly Cost', 'Annual Cost'],
                                ['Compute', costs.compute.toFixed(2), (costs.compute * 12).toFixed(2)],
                                ['Database', costs.database.toFixed(2), (costs.database * 12).toFixed(2)],
                                ['Storage', costs.storage.toFixed(2), (costs.storage * 12).toFixed(2)],
                                ['Networking', costs.networking.toFixed(2), (costs.networking * 12).toFixed(2)],
                                ['Other', costs.other.toFixed(2), (costs.other * 12).toFixed(2)],
                                ['Total', costs.total.toFixed(2), (costs.total * 12).toFixed(2)],
                            ].map(row => row.join(',')).join('\n');
                            
                            const blob = new Blob([csv], { type: 'text/csv' });
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'aws-cost-breakdown.csv';
                            a.click();
                        }}>
                             Export to CSV
                        </button>
                    </div>

                    {/* Footer */}
                    <div style={{textAlign: 'center', padding: '2rem', color: 'var(--text-muted)', fontSize: '0.85rem'}}>
                        <p>Built with precision | Physics-informed cost modeling | Open source</p>
                        
                        <div style={{
                            display: 'inline-block',
                            margin: '1rem 0',
                            padding: '0.75rem 1.5rem',
                            background: 'var(--bg-elevated)',
                            border: '1px solid var(--border-color)',
                            borderRadius: '8px',
                            fontFamily: 'JetBrains Mono, monospace'
                        }}>
                            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.25rem'}}>
                                PRICING DATA LAST UPDATED
                            </div>
                            <div style={{fontSize: '1rem', color: 'var(--accent-cyan)', fontWeight: '600'}}>
                                December 2025
                            </div>
                            <div style={{fontSize: '0.7rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
                                US East (N. Virginia) Region
                            </div>
                        </div>
                        
                        <div style={{
                            maxWidth: '700px',
                            margin: '1.5rem auto',
                            padding: '1.25rem',
                            background: 'var(--bg-secondary)',
                            border: '1px solid var(--border-color)',
                            borderRadius: '8px',
                            textAlign: 'left',
                            lineHeight: '1.7',
                            fontSize: '0.8rem'
                        }}>
                            <div style={{fontWeight: '600', color: 'var(--text-primary)', marginBottom: '0.75rem', fontSize: '0.85rem'}}>
                                ‚ö†Ô∏è Important Notes on Accuracy
                            </div>
                            
                            <div style={{marginBottom: '0.5rem'}}>
                                <strong style={{color: 'var(--accent-emerald)'}}>‚úì Included:</strong> Compute, storage, data transfer basics, 
                                common AWS services, Free Tier benefits, standard configurations
                            </div>
                            
                            <div style={{marginBottom: '0.5rem'}}>
                                <strong style={{color: 'var(--accent-amber)'}}>‚ö° Estimate Accuracy:</strong> ¬±10-15% for typical startup 
                                workloads. Physics-informed scaling model accounts for economies of scale.
                            </div>
                            
                            <div style={{marginBottom: '0.5rem'}}>
                                <strong style={{color: 'var(--accent-red)'}}>‚úó Not Included:</strong> Multi-AZ deployments (2x cost), 
                                detailed data transfer tiers, NAT Gateway, enhanced monitoring, support plans, 
                                domain/SSL certificates, third-party software licensing
                            </div>
                            
                            <div style={{marginTop: '1rem', paddingTop: '0.75rem', borderTop: '1px solid var(--border-color)', fontSize: '0.75rem'}}>
                                <strong>Regional Variance:</strong> Other regions typically cost 5-30% more (EU/Asia). 
                                <strong style={{marginLeft: '0.5rem'}}>Production Planning:</strong> Always verify with{' '}
                                <a 
                                    href="https://calculator.aws/" 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    style={{color: 'var(--accent-cyan)', textDecoration: 'none'}}
                                >
                                    AWS Pricing Calculator
                                </a>
                            </div>
                        </div>
                        
                        <p style={{marginTop: '1rem', fontSize: '0.75rem', color: 'var(--text-muted)'}}>
                            This calculator is for initial planning and architecture comparison. 
                            Consult AWS Solutions Architects for production deployments.
                            <br />
                            AWS pricing updates frequently - pricing data is provided as-is without warranty.
                        </p>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<AWSCostCalculator />, document.getElementById('root'));
    </script>
</body>
</html>